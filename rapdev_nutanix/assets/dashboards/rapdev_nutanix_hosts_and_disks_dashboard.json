{
    "author_name": "RapDev",
    "description": "",
    "layout_type": "free",
    "template_variables": [
        {
            "default": "*",
            "name": "nutanix_host",
            "prefix": "nutanix_host"
        },
        {
            "default": "*",
            "name": "nutanix_cluster",
            "prefix": "nutanix_cluster"
        },
        {
            "default": "*",
            "name": "nutanix_cvm",
            "prefix": "nutanix_cvm"
        },
        {
            "default": "*",
            "name": "host",
            "prefix": "host"
        },
        {
            "default": "*",
            "name": "nutanix_disk_host",
            "prefix": "nutanix_disk_host"
        }
    ],
    "title": "RapDev Nutanix Hosts and Disks Dashboard",
    "widgets": [
        {
            "definition": {
                "sizing": "zoom",
                "type": "image",
                "url": "https://1000logos.net/wp-content/uploads/2019/07/Nutanix.jpg"
            },
            "id": 7480045821955258,
            "layout": {
                "height": 11,
                "width": 41,
                "x": 0,
                "y": 0
            }
        },
        {
            "definition": {
                "autoscale": true,
                "precision": 0,
                "requests": [
                    {
                        "aggregator": "last",
                        "q": "sum:rapdev.nutanix.hosts.count{$nutanix_host,$nutanix_cluster,$nutanix_cvm,$host}"
                    }
                ],
                "time": {},
                "title": "Host Count",
                "title_align": "left",
                "title_size": "16",
                "type": "query_value"
            },
            "id": 6037617244956386,
            "layout": {
                "height": 11,
                "width": 15,
                "x": 42,
                "y": 0
            }
        },
        {
            "definition": {
                "has_search_bar": "auto",
                "requests": [
                    {
                        "aggregator": "last",
                        "alias": "Memory Usage (%)",
                        "cell_display_mode": [
                            "number"
                        ],
                        "limit": 50,
                        "order": "desc",
                        "q": "avg:rapdev.nutanix.hypervisor_memory_usage{nutanix_type:host,$nutanix_host,$nutanix_cvm,$nutanix_cluster,$host} by {host,nutanix_cluster}"
                    },
                    {
                        "aggregator": "last",
                        "alias": "CPU Usage (%)",
                        "cell_display_mode": [
                            "number"
                        ],
                        "q": "avg:rapdev.nutanix.hypervisor_cpu_usage{nutanix_type:host,$nutanix_host,$nutanix_cvm,$nutanix_cluster,$host} by {host,nutanix_cluster}"
                    },
                    {
                        "aggregator": "last",
                        "alias": "Storage Usage",
                        "cell_display_mode": [
                            "number"
                        ],
                        "q": "avg:rapdev.nutanix.storage.usage_bytes{nutanix_type:host,$nutanix_host,$nutanix_cvm,$nutanix_cluster,$host} by {host,nutanix_cluster}"
                    },
                    {
                        "aggregator": "last",
                        "alias": "Storage Capacity",
                        "cell_display_mode": [
                            "number"
                        ],
                        "q": "avg:rapdev.nutanix.storage.capacity_bytes{nutanix_type:host,$nutanix_host,$nutanix_cvm,$nutanix_cluster,$host} by {host,nutanix_cluster}"
                    },
                    {
                        "aggregator": "last",
                        "alias": "Average Latency",
                        "cell_display_mode": [
                            "number"
                        ],
                        "q": "avg:rapdev.nutanix.avg_io_latency_usecs{nutanix_type:host,$nutanix_host,$nutanix_cvm,$nutanix_cluster,$host} by {host,nutanix_cluster}"
                    }
                ],
                "title": "Host Table",
                "title_align": "left",
                "title_size": "20",
                "type": "query_table"
            },
            "id": 6733017968450936,
            "layout": {
                "height": 31,
                "width": 73,
                "x": 0,
                "y": 12
            }
        },
        {
            "definition": {
                "background_color": "vivid_purple",
                "content": "Host Metrics",
                "font_size": "36",
                "has_padding": true,
                "show_tick": false,
                "text_align": "center",
                "tick_edge": "bottom",
                "tick_pos": "50%",
                "type": "note",
                "vertical_align": "center"
            },
            "id": 1994602504342840,
            "layout": {
                "height": 7,
                "width": 73,
                "x": 74,
                "y": 0
            }
        },
        {
            "definition": {
                "legend_columns": [
                    "avg",
                    "min",
                    "max",
                    "value",
                    "sum"
                ],
                "legend_layout": "auto",
                "markers": [],
                "requests": [
                    {
                        "display_type": "area",
                        "on_right_yaxis": false,
                        "q": "avg:rapdev.nutanix.hypervisor_cpu_usage{$nutanix_host,nutanix_type:host,$nutanix_cvm,$nutanix_cluster,$host} by {host,nutanix_host}",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "purple"
                        }
                    }
                ],
                "show_legend": false,
                "title": "CPU Utilization",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 3653824447874080,
            "layout": {
                "height": 13,
                "width": 36,
                "x": 74,
                "y": 8
            }
        },
        {
            "definition": {
                "markers": [],
                "requests": [
                    {
                        "display_type": "line",
                        "on_right_yaxis": false,
                        "q": "avg:rapdev.nutanix.controller_avg_io_latency_usecs{$nutanix_host,nutanix_type:host,$nutanix_cvm,$nutanix_cluster,$host} by {host,nutanix_host}",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "purple"
                        }
                    }
                ],
                "show_legend": false,
                "title": "Average I/O Latency",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 5463823728163190,
            "layout": {
                "height": 13,
                "width": 36,
                "x": 74,
                "y": 36
            }
        },
        {
            "definition": {
                "markers": [],
                "requests": [
                    {
                        "display_type": "line",
                        "on_right_yaxis": false,
                        "q": "(avg:rapdev.nutanix.storage.usage_bytes{$nutanix_host,nutanix_type:host,$nutanix_cvm,$nutanix_cluster,$host} by {host,nutanix_host}/avg:rapdev.nutanix.storage.capacity_bytes{$nutanix_host,nutanix_type:host,$nutanix_cvm,$nutanix_cluster,$host} by {host,nutanix_host})*100",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "purple"
                        }
                    }
                ],
                "show_legend": false,
                "title": "Physical Storage Utilization (%)",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 950083518457144,
            "layout": {
                "height": 13,
                "width": 36,
                "x": 111,
                "y": 36
            }
        },
        {
            "definition": {
                "markers": [],
                "requests": [
                    {
                        "display_type": "line",
                        "on_right_yaxis": false,
                        "q": "avg:rapdev.nutanix.content_cache_hit{$nutanix_host,nutanix_type:host,$nutanix_cvm,$nutanix_cluster,$host} by {host,nutanix_host}",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "purple"
                        }
                    }
                ],
                "show_legend": false,
                "title": "Content Cache Hit (%)",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 3852589938539304,
            "layout": {
                "height": 13,
                "width": 36,
                "x": 111,
                "y": 64
            }
        },
        {
            "definition": {
                "markers": [],
                "requests": [
                    {
                        "display_type": "line",
                        "on_right_yaxis": false,
                        "q": "avg:rapdev.nutanix.content_cache_logical_memory_usage_bytes{$nutanix_host,nutanix_type:host,$nutanix_cvm,$nutanix_cluster,$host} by {host,nutanix_host}",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "purple"
                        }
                    }
                ],
                "show_legend": false,
                "title": "Content Cache Logical Memory Usage",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 3376623782034006,
            "layout": {
                "height": 13,
                "width": 36,
                "x": 111,
                "y": 50
            }
        },
        {
            "definition": {
                "markers": [],
                "requests": [
                    {
                        "display_type": "line",
                        "on_right_yaxis": false,
                        "q": "avg:rapdev.nutanix.content_cache_physical_memory_usage_bytes{$nutanix_host,nutanix_type:host,$nutanix_cvm,$nutanix_cluster,$host} by {host,nutanix_host}",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "purple"
                        }
                    }
                ],
                "show_legend": false,
                "title": "Content Cache Physical Memory Usage",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 8368953616179196,
            "layout": {
                "height": 13,
                "width": 36,
                "x": 74,
                "y": 64
            }
        },
        {
            "definition": {
                "markers": [],
                "requests": [
                    {
                        "display_type": "area",
                        "on_right_yaxis": false,
                        "q": "avg:rapdev.nutanix.hypervisor_memory_usage{$nutanix_host,nutanix_type:host,$nutanix_cvm,$nutanix_cluster,$host} by {host,nutanix_host}",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "purple"
                        }
                    }
                ],
                "show_legend": false,
                "title": "Memory Utilization",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 3688345438731400,
            "layout": {
                "height": 13,
                "width": 36,
                "x": 111,
                "y": 8
            }
        },
        {
            "definition": {
                "check": "rapdev.nutanix.disks.disk_status",
                "group_by": [],
                "grouping": "cluster",
                "tags": [
                    "*"
                ],
                "title": "Disk Status",
                "title_align": "center",
                "title_size": "16",
                "type": "check_status"
            },
            "id": 6357045289853588,
            "layout": {
                "height": 11,
                "width": 15,
                "x": 58,
                "y": 0
            }
        },
        {
            "definition": {
                "markers": [],
                "requests": [
                    {
                        "display_type": "line",
                        "on_right_yaxis": false,
                        "q": "avg:rapdev.nutanix.write_io_bandwidth_kBps{$nutanix_host,$nutanix_cluster,$host,nutanix_type:host} by {host}, avg:rapdev.nutanix.read_io_bandwidth_kBps{$nutanix_host,$nutanix_cluster,$host,nutanix_type:host} by {host}",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "purple"
                        }
                    }
                ],
                "show_legend": false,
                "title": "Read / Write IO Bandwidth",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 5566092233012460,
            "layout": {
                "height": 13,
                "width": 36,
                "x": 74,
                "y": 22
            }
        },
        {
            "definition": {
                "markers": [],
                "requests": [
                    {
                        "display_type": "line",
                        "on_right_yaxis": false,
                        "q": "avg:rapdev.nutanix.storage.capacity_bytes{$nutanix_host,$nutanix_cluster,$host,nutanix_type:host} by {host}-avg:rapdev.nutanix.storage.logical_usage_bytes{$nutanix_host,$nutanix_cluster,$host,nutanix_type:host} by {host}",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "purple"
                        }
                    }
                ],
                "show_legend": false,
                "title": "Logical Storage Available",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 1627451329704700,
            "layout": {
                "height": 13,
                "width": 36,
                "x": 74,
                "y": 50
            }
        },
        {
            "definition": {
                "markers": [],
                "requests": [
                    {
                        "display_type": "line",
                        "on_right_yaxis": false,
                        "q": "avg:rapdev.nutanix.num_read_iops{nutanix_type:host,$nutanix_host,$nutanix_cluster,$host}, avg:rapdev.nutanix.num_write_iops{nutanix_type:host,$nutanix_host,$nutanix_cluster,$host}",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "purple"
                        }
                    }
                ],
                "show_legend": false,
                "title": "Read / Write IOPS",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 8579260783166698,
            "layout": {
                "height": 13,
                "width": 36,
                "x": 111,
                "y": 22
            }
        },
        {
            "definition": {
                "background_color": "vivid_purple",
                "content": "Disk Metrics",
                "font_size": "36",
                "has_padding": true,
                "show_tick": false,
                "text_align": "center",
                "tick_edge": "bottom",
                "tick_pos": "50%",
                "type": "note",
                "vertical_align": "center"
            },
            "id": 7482070644010464,
            "layout": {
                "height": 5,
                "width": 73,
                "x": 0,
                "y": 44
            }
        },
        {
            "definition": {
                "legend_columns": [
                    "avg",
                    "min",
                    "max",
                    "value",
                    "sum"
                ],
                "legend_layout": "auto",
                "markers": [],
                "requests": [
                    {
                        "display_type": "line",
                        "on_right_yaxis": false,
                        "q": "avg:rapdev.nutanix.disks.num_read_iops{$nutanix_host,$nutanix_cluster,$nutanix_disk_host} by {nutanix_cluster}, avg:rapdev.nutanix.disks.num_write_iops{$nutanix_host,$nutanix_cluster,$nutanix_disk_host} by {nutanix_cluster}",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "purple"
                        }
                    }
                ],
                "show_legend": false,
                "title": "Read / Write IOPS",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 5136228974506930,
            "layout": {
                "height": 13,
                "width": 36,
                "x": 0,
                "y": 50
            }
        },
        {
            "definition": {
                "legend_columns": [
                    "avg",
                    "min",
                    "max",
                    "value",
                    "sum"
                ],
                "legend_layout": "auto",
                "markers": [],
                "requests": [
                    {
                        "display_type": "line",
                        "on_right_yaxis": false,
                        "q": "avg:rapdev.nutanix.disks.read_io_bandwidth_kBps{$nutanix_host,$nutanix_cluster,$nutanix_disk_host} by {nutanix_cluster}, avg:rapdev.nutanix.disks.write_io_bandwidth_kBps{$nutanix_host,$nutanix_cluster,$nutanix_disk_host} by {nutanix_cluster}",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "purple"
                        }
                    }
                ],
                "show_legend": false,
                "title": "Read / Write IO Bandwidth",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 2701558370132050,
            "layout": {
                "height": 13,
                "width": 36,
                "x": 37,
                "y": 50
            }
        },
        {
            "definition": {
                "legend_columns": [
                    "avg",
                    "min",
                    "max",
                    "value",
                    "sum"
                ],
                "legend_layout": "auto",
                "markers": [],
                "requests": [
                    {
                        "display_type": "line",
                        "on_right_yaxis": false,
                        "q": "avg:rapdev.nutanix.disks.avg_io_latency_usecs{$nutanix_host,$nutanix_cluster,$nutanix_disk_host} by {nutanix_cluster}",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "purple"
                        }
                    }
                ],
                "show_legend": false,
                "title": "Average IO Latency",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 776696107278398,
            "layout": {
                "height": 13,
                "width": 36,
                "x": 0,
                "y": 64
            }
        },
        {
            "definition": {
                "legend_columns": [
                    "avg",
                    "min",
                    "max",
                    "value",
                    "sum"
                ],
                "legend_layout": "auto",
                "markers": [],
                "requests": [
                    {
                        "display_type": "line",
                        "on_right_yaxis": false,
                        "q": "(avg:rapdev.nutanix.disks.storage.usage_bytes{$nutanix_host,$nutanix_cluster,$nutanix_disk_host} by {nutanix_cluster}/avg:rapdev.nutanix.disks.storage.capacity_bytes{$nutanix_host,$nutanix_cluster,$nutanix_disk_host} by {nutanix_cluster})*100",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "purple"
                        }
                    }
                ],
                "show_legend": false,
                "title": "Storage Utilization (%)",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 8489306713500202,
            "layout": {
                "height": 13,
                "width": 36,
                "x": -1,
                "y": 78
            }
        },
        {
            "definition": {
                "legend_columns": [
                    "avg",
                    "min",
                    "max",
                    "value",
                    "sum"
                ],
                "legend_layout": "auto",
                "markers": [],
                "requests": [
                    {
                        "display_type": "line",
                        "on_right_yaxis": false,
                        "q": "avg:rapdev.nutanix.disks.storage.logical_usage_bytes{$nutanix_host,$nutanix_cluster,$nutanix_disk_host} by {nutanix_cluster}",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "purple"
                        }
                    }
                ],
                "show_legend": false,
                "title": "Logical Storage Usage",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 935060685235686,
            "layout": {
                "height": 13,
                "width": 36,
                "x": 37,
                "y": 64
            }
        },
        {
            "definition": {
                "legend_columns": [
                    "avg",
                    "min",
                    "max",
                    "value",
                    "sum"
                ],
                "legend_layout": "auto",
                "markers": [],
                "requests": [
                    {
                        "display_type": "line",
                        "on_right_yaxis": false,
                        "q": "avg:rapdev.nutanix.disks.count{$nutanix_host,$nutanix_cluster,$nutanix_disk_host} by {nutanix_cluster}",
                        "style": {
                            "line_type": "solid",
                            "line_width": "normal",
                            "palette": "purple"
                        }
                    }
                ],
                "show_legend": false,
                "title": "Disk Count",
                "title_align": "left",
                "title_size": "16",
                "type": "timeseries",
                "yaxis": {
                    "include_zero": true,
                    "label": "",
                    "max": "auto",
                    "min": "auto",
                    "scale": "linear"
                }
            },
            "id": 2698600703261728,
            "layout": {
                "height": 13,
                "width": 36,
                "x": 37,
                "y": 78
            }
        }
    ]
}