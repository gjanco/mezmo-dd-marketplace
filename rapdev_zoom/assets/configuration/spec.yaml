name: RapDev Zoom
files:
- name: rapdev_zoom.yaml
  options:
  - template: init_config
    options:
    - template: init_config/default
  - template: instances
    options:
      - name: base_api_url
        required: true
        value:
          type: string
        description: |
          The API url that the agent needs to target to pull data from.
      - name: api_key
        required: true
        value:
          type: string
        description: |
          The Zoom Account API Key that the agent can use to generate a JWT token.
      - name: api_secret
        required: true
        secret: true
        value:
          type: string
        description: |
          The Zoom Account API Secret that the agent can use to encode a JWT token.
      - name: account_name
        required: true
        value:
          type: string
        description: |
          The name of the Zoom Account.
      - name: room_only_mode
        value:
          default: false
          example: false
          type: boolean
        description: |
          When set to true, the integration collects data for Zoom rooms.
      - name: collect_meeting_host
        value:
          example: true
          default: true
          type: boolean
        description: |
          This changes whether the agent should collect information on the meeting host (e.g. first name,
          last name, etc..).
      - name: collect_participant_details
        value:
          example: true
          default: true
          type: boolean
        description: |
          This changes whether the agent should collect information on each individual participants rather than
          averaging the values from each user. Note: Setting to true collects a larger amount of metrics.
      - name: users_to_track
        value:
          example:
            - "bob.smith@myorg.com"
            - "jane.williams@myorg.com"
          type: array
          items:
            type: string
        description: |
          This changes which users the agent ingests data for. This should be a set containing each Zoom user's
          email that you would only like to monitor.
      - template: instances/http
      - template: instances/default
        overrides:
          min_collection_interval.value.example: 60
          min_collection_interval.enabled: true
          min_collection_interval.description: |
            The default for this check is 60 seconds to prevent API rate limiting.
            This changes the collection interval of the check. For more information, see:
            https://docs.datadoghq.com/developers/write_agent_check/#collection-interval
