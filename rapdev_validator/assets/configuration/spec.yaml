name: RapDev Validator
files:
- name: rapdev_validator.yaml
  options:
  - template: init_config
    options:
    - name: api_key
      required: false
      value:
        type: string
        default: false
      description: |
        Datadog api key, used when api_key is not defined per instance. If left blank, the key from datadog.yaml is used.
    - name: app_key
      required: false
      value:
        type: string
      description: |
        Datadog app key, only used for instances where app_key is not defined at the instance level.
    - template: init_config/default
  - template: instances
    options:
    - name: api_key
      required: false
      value:
        type: string
        default: false
      description: |
        Datadog api key specifically for a single instance, takes precedence over other api_key definitions.
    - name: app_key
      required: false
      value:
        type: string
      description: |
        Datadog app key specifically for a single instance, takes precedence over other app_key definitions.
    - name: required_tags
      required: true
      value:
        type: object
      description: |
        Mapping of key/value pair tags that the check is looking for on each Host.
    - name: ignore_paas
      required: false
      value:
        type: boolean
        default: false
        example: false
      description: |
        Flag when set to true ignores validation for hosts using apps ALB, ELB, NLB, and RDS. 
    - name: hosts_to_ignore
      required: false
      value:
        type: array
        items:
          type: string
          example: ".*-demo"
      description: |
        List of python regexes to match host names that we want to ignore validation on.
    - name: validate_synthetics
      required: false
      value:
        type: boolean
        default: false
        example: false
      description: |
        Flag when set to true, tells the integration to also check synthetic test tags.
    - name: synthetic_tags
      required: false
      value:
        type: object
      description: |
        Mapping of key/value pair tags that the check is looking for on each Synthetic Test.
    - template: instances/default
